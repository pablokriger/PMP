<!DOCTYPE html>
<html lang="es">
<body>

<h3>Importar preguntas a Firestore</h3>
<button id="importar">Importar</button>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.8.0/firebase-app.js";
  import { getFirestore, collection, addDoc }
    from "https://www.gstatic.com/firebasejs/12.8.0/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyBWctc8V2t30ZX6B88xcfeljfaLfuK8ohM",
    authDomain: "cmp-exam-prep.firebaseapp.com",
    projectId: "cmp-exam-prep",
    storageBucket: "cmp-exam-prep.firebasestorage.app",
    messagingSenderId: "777953288024",
    appId: "1:777953288024:web:13f1413295d3f828340f2d"
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  document.getElementById("importar").onclick = async () => {
    const res = await fetch("questions.json");
    const data = await res.json();

    for (const q of data.questions) {
      await addDoc(collection(db, "questions"), q);
    }

    alert("Preguntas importadas correctamente");
  };
</script>

</body>
</html>
