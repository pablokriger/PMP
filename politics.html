<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Política de Privacidad — PMP</title>
<style>
  body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 20px;
    background: #f7f7f7;
    color: #333;
  }

  .lang-buttons {
    display: flex;
    gap: 10px;
    margin-bottom: 20px;
  }

  .lang-buttons button {
    display: flex;
    align-items: center;
    gap: 5px;
    padding: 6px 12px;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-weight: bold;
    background: #fff;
    box-shadow: 0 2px 5px rgba(0,0,0,0.15);
    transition: transform 0.1s ease;
  }

  .lang-buttons button:hover {
    transform: scale(1.05);
  }

  .lang-buttons img {
    width: 20px;
    height: 20px;
    border-radius: 50%;
  }

  .policy-container {
    background: #fff;
    padding: 20px;
    border-radius: 10px;
    max-height: 70vh;
    overflow-y: auto;
    box-shadow: 0 3px 10px rgba(0,0,0,0.1);
  }

  .policy-container h2, .policy-container h3 {
    margin: 0 0 10px;
  }

  .policy-container p {
    margin: 10px 0;
    line-height: 1.5;
  }

  hr {
    border: none;
    border-top: 1px solid #ddd;
    margin: 20px 0;
  }
</style>
</head>
<body>

<div class="lang-buttons">
  <button data-lang="en"><img src="https://flagcdn.com/us.svg" alt="ENG"> ENG</button>
  <button data-lang="es"><img src="https://flagcdn.com/es.svg" alt="ESP"> ESP</button>
  <button data-lang="pt"><img src="https://flagcdn.com/br.svg" alt="PT"> PT</button>
  <button data-lang="de"><img src="https://flagcdn.com/de.svg" alt="DE"> DE</button>
</div>

<div class="policy-container" id="policy">
  <h2>Cargando política...</h2>
</div>

<script>
const policyContainer = document.getElementById("policy");
let policyData = {};
let currentLang = localStorage.getItem("policyLang") || "es";

// URL RAW del JSON de políticas
const jsonURL = "https://raw.githubusercontent.com/pablokriger/PMP/main/translation.json";

// Cargar el JSON
fetch(jsonURL)
  .then(res => res.json())
  .then(data => {
    policyData = data;
    showPolicy(currentLang);
  })
  .catch(err => {
    policyContainer.innerHTML = "<p>Error al cargar la política.</p>";
    console.error(err);
  });

// Función para mostrar la política
function showPolicy(lang) {
  if (!policyData[lang]) return;

  localStorage.setItem("policyLang", lang);
  const p = policyData[lang];

  policyContainer.innerHTML = `
    <h2>${p.titulo}</h2>
    <h3>${p.vigencia}</h3>
    <p><strong>${p.titular}</strong></p>
    <hr>
    <p>1. ${p["1"]}</p>
    <p>2. ${p["2"]}</p>
    <p>3. ${p["3"]}</p>
    <p>4. ${p["4"]}</p>
    <p>5. ${p["5"]}</p>
    <p>6. ${p["6"]}</p>
    <p>7. ${p["7"]}</p>
    <p>8. ${p["8"]}</p>
    <p>9. ${p["9"]}</p>
    <p>10. ${p["10"]}</p>
    <p>11. ${p["11"]}</p>
    <p>12. ${p["12"]}</p>
    <p>13. ${p["13"]}</p>
    <p>14. ${p["14"]}</p>
    <p>15. ${p["15"]}</p>
    <p>16. ${p["16"]}</p>
    <p>17. ${p["17"]}</p>
  `;
}

// Botones de cambio de idioma
document.querySelectorAll(".lang-buttons button").forEach(btn => {
  btn.addEventListener("click", () => {
    const lang = btn.dataset.lang;
    currentLang = lang;
    showPolicy(lang);
  });
});
</script>

</body>
</html>
